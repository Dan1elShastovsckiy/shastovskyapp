<!DOCTYPE html>
<html>
<head>
  <base href="$FLUTTER_BASE_HREF">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  
  <title>SHASTOVSKY</title>
  <meta name="title" content="Привет! Я Шастовский Даниил: тут Фотографии путешествий и обучение SEO">
  <meta name="description" content="Это персональный сайт Даниила Шастовского. Авторские фотографии из путешествий, статьи по SEO-образованию для начинающих и портфолио проектов. Контакты для сотрудничества.">

  <!-- iOS meta tags and icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Shastovsky">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>
  <link rel="manifest" href="manifest.json">
  
  <meta property="og:type" content="website">
  <meta property="og:title" content="Привет! Я Шастовский Даниил: тут Фотографии путешествий и обучение SEO">
  <meta property="og:description" content="Персональный сайт Даниила Шастовского. Авторские фотографии, статьи по SEO, портфолио.">
  <meta property="og:image" content="https://shastovsky.ru/assets/assets/images/me_sachara_desert.webp"> 
  <meta property="og:url" content="https://shastovsky.ru/">
  <meta property="og:site_name" content="SHASTOVSKY">
  
  <!-- <<< НАЧАЛО НОВЫХ СТИЛЕЙ ДЛЯ АНИМАЦИИ >>> -->
  <style>
    body {
      background-color: #F5F5F5;
      margin: 0;
      padding: 0;
      overflow: hidden; 
    }

    .loader-container {
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    
    @media (prefers-color-scheme: dark) {
      body { background-color: #121212; }
      .message { color: #BDBDBD; }
      .cat { filter: invert(1); }
    }
    
    .cat {
      width: 400px;
      height: 200px;
      margin-bottom: 20px; /* Отступ между котом и текстом */
      animation: walk-animation 0.8s steps(12) infinite;
      background: url("./assets/images/cat_tiles.png") 0 0 no-repeat;
    }

    @keyframes walk-animation {
      from {
        background-position: 0 0;
      }
      to {
        background-position: 0 -2400px; 
      }
    }

    .message {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      font-size: 14px;
      color: #757575;
      transition: opacity 0.5s ease-in-out;
      opacity: 1; /* Начальная прозрачность */
    }

    /* Класс для плавного исчезания текста */
    .message.fade-out {
      opacity: 0;
    }
    
  </style>
  <!-- <<< КОНЕЦ НОВЫХ СТИЛЕЙ >>> -->

</head>
<body>
  <div id="loader" class="loader-container">
    <!-- Кот, который анимирует ходьбу на месте -->
    <div class="cat"></div>
    <!-- Сообщение для пользователя, которое будет меняться -->
    <p id="loading-message" class="message"></p>
  </div>
  
  <script src="flutter_bootstrap.js" async></script>

  <!-- <<< ОБНОВЛЕННЫЙ СКРИПТ ДЛЯ РАНДОМНЫХ СООБЩЕНИЙ >>> -->
  <script>
    const messages = [
      "Привет! Это Flutter-приложение, ему нужно немного магии, чтобы ожить...",
      "Собираю пиксели в единую картину. Почти готово!",
      "Котёнок идёт по своим делам, пока я загружаю скрипты...",
      "Это не баг, а фича... Ожидание — тоже часть приключения!",
      "Почти на месте. Завариваю виртуальный кофе...",
      "Flutter рисует каждый пиксель с любовью. Нужно мгновение...",
      "Проверяю, все ли котики на месте...",
      "Разгоняю пиксели до максимальной скорости...",
      "Если долго смотреть на кота, он начнет смотреть на тебя.",
      "Ш-ш-ш... Идет компиляция. Не спугните!",
      "А вы знали, что этот сайт написан на Dart?",
      "Создаю уютный цифровой уголок для вас...",
      "Осталось совсем чуть-чуть. Честное кошачье!"
    ];

    const messageElement = document.getElementById("loading-message");
    let currentIndex = Math.floor(Math.random() * messages.length);

    // Функция для смены текста
    function changeMessage() {
      // 1. Добавляем класс, чтобы текст плавно исчез
      messageElement.classList.add('fade-out');

      // 2. Ждем окончания анимации исчезновения (500мс)
      setTimeout(() => {
        // 3. Выбираем следующий индекс (по кругу)
        currentIndex = (currentIndex + 1) % messages.length;
        // 4. Меняем текст
        messageElement.textContent = messages[currentIndex];
        // 5. Убираем класс, чтобы текст плавно появился
        messageElement.classList.remove('fade-out');
      }, 500);
    }

    // Показываем первое случайное сообщение сразу
    messageElement.textContent = messages[currentIndex];
    
    // Запускаем смену сообщений каждые 4,5 секунды
    setInterval(changeMessage, 4500);
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "name": "SHASTOVSKY",
    "url": "https://shastovsky.ru/",
    "author": {
      "@type": "Person",
      "name": "Даниил Шастовский",
      "url": "https://shastovsky.ru/about"
    },
    "description": "Персональный сайт Даниила Шастовского. Авторские фотографии из путешествий, статьи по SEO-образованию для начинающих и портфолио проектов.",
    "publisher": {
      "@type": "Person",
      "name": "Даниил Шастовский"
    }
  }
  </script>
  
</body>
</html>